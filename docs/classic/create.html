<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2024-04-16T13:03:36.195549705"><title>Create a user | Zitadel PHP Client</title><script type="application/json" id="virtual-toc-data">[{"id":"simplest-way","level":0,"title":"Simplest way","anchor":"#simplest-way"},{"id":"add-organization-membership","level":0,"title":"Add organization membership","anchor":"#add-organization-membership"},{"id":"add-nickname-display-name","level":0,"title":"Add Nickname/Display name","anchor":"#add-nickname-display-name"},{"id":"add-language","level":0,"title":"Add language","anchor":"#add-language"},{"id":"add-gender","level":0,"title":"Add gender","anchor":"#add-gender"},{"id":"add-phone-number","level":0,"title":"Add phone number","anchor":"#add-phone-number"},{"id":"add-metadata","level":0,"title":"Add metadata","anchor":"#add-metadata"},{"id":"set-the-userid","level":0,"title":"Set the userid","anchor":"#set-the-userid"},{"id":"link-an-external-identity-provider","level":0,"title":"Link an external Identity Provider","anchor":"#link-an-external-identity-provider"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="frontend/app.css" rel="stylesheet"><link rel="manifest" href="site.webmanifest"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="icon-192.png"><link rel="icon" type="image/png" sizes="16x16" href="icon-192.png"><meta name="msapplication-TileImage" content="mstile-144x144.png"><meta name="msapplication-square70x70logo" content="mstile-70x70.png"><meta name="msapplication-square150x150logo" content="mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="mstile-310x150.png"><meta name="msapplication-square310x310logo" content="mstile-310x150.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Create a user | Zitadel PHP Client"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Zitadel PHP Client Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/zpc/1.3.4/create.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Create a user | Zitadel PHP Client"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/zpc/1.3.4/create.html#webpage",
    "url": "writerside-documentation/zpc/1.3.4/create.html",
    "name": "Create a user | Zitadel PHP Client",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/zpc/#website",
    "url": "writerside-documentation/zpc/",
    "name": "Zitadel PHP Client Help"
}</script><!-- End Schema.org --></head><body data-id="Create" data-main-title="Create a user" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="User Management"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Zitadel PHP Client 1.3.4 Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Create" id="Create.md">Create a user</h1><p id="-4e4wz1_2">Here you will learn how to create a user. To create a user, you need to set the <span class="emphasis" id="-4e4wz1_3">serviceUserToken</span> in the Settings-Array.</p><section class="chapter"><h2 id="simplest-way" data-toc="simplest-way">Simplest way</h2><p id="-4e4wz1_4">To create a user, you need the following data:</p><ul class="list _bullet" id="-4e4wz1_5"><li class="list__item" id="-4e4wz1_6"><p>Full name</p></li><li class="list__item" id="-4e4wz1_7"><p>Email address</p></li><li class="list__item" id="-4e4wz1_8"><p>Password</p></li><li class="list__item" id="-4e4wz1_9"><p>Username (optional, but recommended)</p></li></ul><p id="-4e4wz1_10">The following data is optional:</p><ul class="list _bullet" id="-4e4wz1_11"><li class="list__item" id="-4e4wz1_12"><p>Organization membership</p></li><li class="list__item" id="-4e4wz1_13"><p>Nickname</p></li><li class="list__item" id="-4e4wz1_14"><p>Display name</p></li><li class="list__item" id="-4e4wz1_15"><p>Language</p></li><li class="list__item" id="-4e4wz1_16"><p>Gender</p></li><li class="list__item" id="-4e4wz1_17"><p>Phone number</p></li><li class="list__item" id="-4e4wz1_18"><p>Metadata</p></li><li class="list__item" id="-4e4wz1_19"><p>User ID</p></li><li class="list__item" id="-4e4wz1_20"><p>Link an Identity Provider</p></li></ul><p id="-4e4wz1_21">To create a user, you only need a few lines of code:</p><div class="code-block" data-lang="php">
use ZitadelPhpClient\User\Create;

$create_user = new Create($settings);
$create_user-&gt;setName(&quot;John&quot;, &quot;Doe&quot;);
$create_user-&gt;setEmail(&quot;j.doe@example.org&quot;);
$create_user-&gt;setPassword(&quot;S3cr3t&quot;);
$create_user-&gt;setUserName(&quot;SampleUser&quot;);

try {
    $create_user-&gt;create();
} catch(Exception $e) {
    echo $e-&gt;getMessage();
}
</div><p id="-4e4wz1_23">The <code class="code" id="-4e4wz1_24">create()</code>function will return an Exception, if the communication with Zitadel fails, so it's recommended to put the <code class="code" id="-4e4wz1_25">create()</code>function into <span class="emphasis" id="-4e4wz1_26">try/catch</span>.</p></section><section class="chapter"><h2 id="add-organization-membership" data-toc="add-organization-membership">Add organization membership</h2><p id="-4e4wz1_27">If you have multiple organizations in your Zitadel instance, you can assign the user to an organization.</p><div class="code-block" data-lang="php">
$create_user-&gt;setOrganization(&quot;123456&quot;, &quot;sampleorg.your-zitadel-instance.com&quot;)
</div><p id="-4e4wz1_29">The first parameter is the organization ID and the second parameter is your organization domain.</p></section><section class="chapter"><h2 id="add-nickname-display-name" data-toc="add-nickname-display-name">Add Nickname/Display name</h2><p id="-4e4wz1_30">To add a nickname or a display name, you can use this commands:</p><div class="code-block" data-lang="php">
$create_user-&gt;setNickName(&quot;NickName&quot;);
$create_user-&gt;setDisplayName(&quot;Admin&quot;);
</div></section><section class="chapter"><h2 id="add-language" data-toc="add-language">Add language</h2><p id="-4e4wz1_32">You can set the language of the user with a shortcode. If you don't provide one, the default one will be used.</p><div class="code-block" data-lang="php">
$create_user-&gt;setLanguage(&quot;en&quot;);
</div></section><section class="chapter"><h2 id="add-gender" data-toc="add-gender">Add gender</h2><p id="-4e4wz1_34">You can set the gender of the user. If you don't provide one, the gender will be set to <code class="code" id="-4e4wz1_35">GENDER_UNSPECIFIED</code>.</p><div class="code-block" data-lang="php">
$create_user-&gt;setGender(&quot;GENDER_MALE&quot;);
</div><p id="-4e4wz1_37">You have the following options: <code class="code" id="-4e4wz1_38">GENDER_MALE</code>, <code class="code" id="-4e4wz1_39">GENDER_FEMALE</code> and <code class="code" id="-4e4wz1_40">GENDER_DIVERSE</code>.</p></section><section class="chapter"><h2 id="add-phone-number" data-toc="add-phone-number">Add phone number</h2><p id="-4e4wz1_41">To set a phone number, just call this function:</p><div class="code-block" data-lang="php">
$create_user-&gt;setPhone(&quot;+491590123456&quot;);
</div><p id="-4e4wz1_43">The phone number will be automatically marked as verified.</p><p id="-4e4wz1_44"><span class="control" id="-4e4wz1_45">IMPORTANT:</span> You have to provide the phone number without spaces, the first zero and with the county code e.g. +49</p></section><section class="chapter"><h2 id="add-metadata" data-toc="add-metadata">Add metadata</h2><p id="-4e4wz1_46">You can link metadata with the user profile. You can run the function several times.</p><div class="code-block" data-lang="php">
$create_user-&gt;addMetaData(&quot;key&quot;, &quot;value&quot;);
$create_user-&gt;addMetaData(&quot;key2&quot;, &quot;value2&quot;);
</div><p id="-4e4wz1_48">The value will be automatically Base64 encoded.</p></section><section class="chapter"><h2 id="set-the-userid" data-toc="set-the-userid">Set the userid</h2><p id="-4e4wz1_49">You can set a custom user id for the user. If you don't provide one, the user will get one from Zitadel.</p><div class="code-block" data-lang="php">
$create_user-&gt;setUserId(&quot;575&quot;);
</div></section><section class="chapter"><h2 id="link-an-external-identity-provider" data-toc="link-an-external-identity-provider">Link an external Identity Provider</h2><p id="-4e4wz1_51">You can link an external Identity Provider with the user account, so the user can sign in e.g. with GitHub or Google.</p><div class="code-block" data-lang="php">
$create_user-&gt;addIDPLink(&quot;idpId&quot;, &quot;userId&quot;, &quot;userName&quot;);
</div><p id="-4e4wz1_53">The first parameter is the ID of the Identity Provider. You can find it in the Zitadel instance settings. <br> The second parameter is the User ID of the external account. <br> The third parameter is the username of the external account.</p></section><div class="last-modified">Last modified: 27 March 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="totp.html" class="navigation-links__prev">TOTP</a><a href="edit.html" class="navigation-links__next">Edit a user</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="frontend/app.js"></script></body></html>